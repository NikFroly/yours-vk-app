(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,a){"use strict";a.r(t);a(67),a(92);var n=a(0),c=a.n(n),r=a(36),l=a.n(r),o=a(10),s=a.n(o),i=a(22),d=a(23),u=a(25),m=a(24),f=a(26),p=a(1),h=(a(114),a(60)),b=a.n(h),E=a(61),k=a.n(E),v=a(62),g=a.n(v),y=a(63),_=a.n(y),A=a(64),C=a.n(A),O=function(e){var t=e.id,a=e.go,n=e.fetchedUser;return c.a.createElement(p.Panel,{id:t},c.a.createElement(p.PanelHeader,null,"Your's VK"),n&&c.a.createElement(p.Group,null,c.a.createElement(p.ListItem,{before:n.photo_200?c.a.createElement(p.Avatar,{src:n.photo_200}):null,description:n.bdate},"".concat(n.first_name," ").concat(n.last_name)),c.a.createElement(p.List,null,c.a.createElement(p.Cell,{before:c.a.createElement(b.a,null)},"".concat(n.id)),c.a.createElement(p.Cell,{before:c.a.createElement(k.a,null)},"".concat(n.country.title)),c.a.createElement(p.Cell,{before:c.a.createElement(g.a,null)},"".concat(n.city.title)),c.a.createElement(p.Cell,{before:c.a.createElement(_.a,null)},"UTC ","".concat(n.timezone)),c.a.createElement(p.Cell,{expandable:!0,before:c.a.createElement(C.a,null),onClick:a,"data-to":"friends"},"Friends"))))},j=a(65),P=a.n(j),I=a(37),U=a.n(I),V=Object(p.platform)(),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={fetchedUser:null},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.getToken()}},{key:"render",value:function(){var e=this.props;return c.a.createElement(p.Panel,{id:e.id},c.a.createElement(p.PanelHeader,{left:c.a.createElement(p.HeaderButton,{onClick:e.go,"data-to":"home"},V===p.IOS?c.a.createElement(P.a,null):c.a.createElement(U.a,null))},"Friends"),c.a.createElement(p.List,null,e.friends&&e.friends.map(function(e){return c.a.createElement(p.ListItem,{key:e.last_name,before:c.a.createElement(p.Avatar,{src:e.photo_100}),description:e.city?e.city.title:""},"".concat(e.first_name," ").concat(e.last_name))})))}}]),t}(c.a.Component),K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).getToken=function(){s.a.send("VKWebAppGetAuthToken",{app_id:6969969,scope:"friends"})},a.go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})},a.state={activePanel:"home",fetchedUser:null},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;s.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data});break;case"VKWebAppAccessTokenReceived":e.setState({token:t.detail.data.access_token}),e.getFriends();break;case"VKWebAppCallAPIMethodResult":"49test"===t.detail.data.request_id&&e.setState({friends:t.detail.data.response.items});break;default:console.log(t.detail.type)}}),s.a.send("VKWebAppGetUserInfo",{})}},{key:"getFriends",value:function(){s.a.send("VKWebAppCallAPIMethod",{method:"friends.get",request_id:"49test",params:{fields:"nickname,city,photo_100",v:"5.95",access_token:this.state.token}})}},{key:"render",value:function(){return c.a.createElement(p.View,{activePanel:this.state.activePanel},c.a.createElement(O,{id:"home",fetchedUser:this.state.fetchedUser,go:this.go}),c.a.createElement(w,{id:"friends",data:this.state.data,friends:this.state.friends,getToken:this.getToken,token:this.state.token,go:this.go}))}}]),t}(c.a.Component);s.a.send("VKWebAppInit",{}),l.a.render(c.a.createElement(K,null),document.getElementById("root"))},66:function(e,t,a){e.exports=a(115)}},[[66,1,2]]]);
//# sourceMappingURL=main.b44a87bb.chunk.js.map