{"version":3,"sources":["panels/Home.js","panels/Friends.js","App.js","index.js"],"names":["Home","_ref","id","go","fetchedUser","react_default","a","createElement","vkui","before","photo_200","src","description","bdate","concat","first_name","last_name","link_circle_default","globe_default","country","title","place_default","city","recent_default","timezone","expandable","user_default","onClick","data-to","osname","platform","Friends","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","getToken","left","IOS","chevron_back_default","back_default","friends","map","friend","key","photo_100","React","Component","App","connect","send","app_id","scope","e","setState","activePanel","currentTarget","dataset","to","_this2","subscribe","detail","type","data","token","access_token","getFriends","request_id","response","items","console","log","method","params","fields","v","panels_Home","panels_Friends","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b44a87bb.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Panel, ListItem, List, Cell, Group, Avatar, PanelHeader } from '@vkontakte/vkui';\nimport Icon24LinkCircle from '@vkontakte/icons/dist/24/link_circle';\nimport Icon24Globe from '@vkontakte/icons/dist/24/globe';\nimport Icon24Place from '@vkontakte/icons/dist/24/place';\nimport Icon24Recent from '@vkontakte/icons/dist/24/recent';\nimport Icon24User from '@vkontakte/icons/dist/24/user';\n\nconst Home = ({ id, go, fetchedUser }) => (\n\t<Panel id={id}>\n\t\t<PanelHeader>Your's VK</PanelHeader>\n\t\t{fetchedUser &&\n\t\t<Group>\n\t\t\t<ListItem\n\t\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n\t\t\t\tdescription={fetchedUser.bdate}\n\t\t\t>\n\t\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n\t\t\t</ListItem>\n\t\t\t<List>\n\t\t\t\t<Cell before={<Icon24LinkCircle />}>{`${fetchedUser.id}`}</Cell>\n\t\t\t\t<Cell before={<Icon24Globe />}>{`${fetchedUser.country.title}`}</Cell>\n\t\t\t\t<Cell before={<Icon24Place />}>{`${fetchedUser.city.title}`}</Cell>\n\t\t\t\t<Cell before={<Icon24Recent />}>UTC {`${fetchedUser.timezone}`}</Cell>\n\t\t\t\t<Cell expandable before={<Icon24User />} onClick={go} data-to='friends'>Friends</Cell>\n\t\t\t</List>\n\t\t</Group>}\n\t</Panel>\n);\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Avatar, Panel, List, ListItem, PanelHeader, HeaderButton, platform, IOS } from '@vkontakte/vkui';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nconst osname = platform();\n\nclass Friends extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tfetchedUser: null,\n\t\t};\n\t}\n\tcomponentDidMount() {\n\t\tthis.props.getToken();\n\t}\n\trender() {\n\t\tconst props = this.props;\n\t\treturn (\n\t\t\t<Panel id={props.id}>\n\t\t\t\t<PanelHeader\n\t\t\t\t\tleft={<HeaderButton onClick={props.go} data-to=\"home\">\n\t\t\t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t\t\t\t</HeaderButton>}\n\t\t\t\t>\n\t\t\t\t\tFriends\n\t\t\t\t</PanelHeader>\n\t\t\t\t<List>\n\t\t\t\t\t{props.friends && props.friends.map((friend) => \n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tkey={friend.last_name}\n\t\t\t\t\t\t\tbefore={<Avatar src={friend.photo_100}/>}\n\t\t\t\t\t\t\tdescription={friend.city ? friend.city.title : ''}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${friend.first_name} ${friend.last_name}`}\n\t\t\t\t\t\t</ListItem>)}\n\t\t\t\t</List>\n\t\t\t</Panel>\n\t\t);\n\t}\n}\n\nFriends.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgetToken: PropTypes.func.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default Friends;","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport { View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Friends from './panels/Friends';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'home',\n\t\t\tfetchedUser: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ fetchedUser: e.detail.data });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\ttoken: e.detail.data.access_token\n\t\t\t\t\t});\n\t\t\t\t\tthis.getFriends();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppCallAPIMethodResult':\n\t\t\t\t\tif (e.detail.data.request_id === '49test') {\n\t\t\t\t\t\tthis.setState({ friends: e.detail.data.response.items });\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(e.detail.type);\n\t\t\t}\n\t\t});\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n\t}\n\n\tgetToken = () => {\n\t\tconnect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6969969, \"scope\": \"friends\"});\n\t}\n\n\tgetFriends() {\n\t\tconnect.send(\"VKWebAppCallAPIMethod\", {\n\t\t\t'method': \"friends.get\",\n\t\t\t'request_id': '49test',\n\t\t\t'params': {\n\t\t\t\t'fields': 'nickname,city,photo_100',\n\t\t\t\t'v': '5.95',\n\t\t\t\t'access_token': this.state.token,\n\t\t\t}\n\t\t});\n\t}\n\n\tgo = (e) => {\n\t\tthis.setState({ activePanel: e.currentTarget.dataset.to })\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel}>\n\t\t\t\t<Home id=\"home\" fetchedUser={this.state.fetchedUser} go={this.go} />\n\t\t\t\t<Friends id=\"friends\" data={this.state.data} friends={this.state.friends} getToken={this.getToken} token={this.state.token} go={this.go} />\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default App;","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}